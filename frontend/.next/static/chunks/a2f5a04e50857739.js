(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1831,t=>{"use strict";let e=new class{baseUrl;token=null;constructor(t){this.baseUrl=t,this.token=localStorage.getItem("token")}setToken(t){this.token=t,t?localStorage.setItem("token",t):localStorage.removeItem("token")}getToken(){return this.token}async request(t,e={}){let r={"Content-Type":"application/json",...e.headers};this.token&&(r.Authorization=`Bearer ${this.token}`);let s=await fetch(`${this.baseUrl}${t}`,{...e,headers:r}),o=await s.json();if(!s.ok)throw Error(o.error||"Request failed");return o}async uploadRequest(t,e){let r={};this.token&&(r.Authorization=`Bearer ${this.token}`);let s=await fetch(`${this.baseUrl}${t}`,{method:"POST",headers:r,body:e}),o=await s.json();if(!s.ok)throw Error(o.error||"Upload failed");return o}async login(t,e){let r=await this.request("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})});return this.setToken(r.token),r}async getMe(){return this.request("/auth/me")}async logout(){await this.request("/auth/logout",{method:"POST"}),this.setToken(null)}async getBlogs(t){let e=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/blogs${e}`)}async getBlogBySlug(t){return this.request(`/blogs/${t}`)}async createBlog(t){return this.uploadRequest("/blogs",t)}async updateBlog(t,e){let r={};this.token&&(r.Authorization=`Bearer ${this.token}`);let s=await fetch(`${this.baseUrl}/blogs/${t}`,{method:"PUT",headers:r,body:e}),o=await s.json();if(!s.ok)throw Error(o.error||"Update failed");return o}async deleteBlog(t){return this.request(`/blogs/${t}`,{method:"DELETE"})}async getCategories(){return this.request("/categories")}async createCategory(t){return this.request("/categories",{method:"POST",body:JSON.stringify(t)})}async updateCategory(t,e){return this.request(`/categories/${t}`,{method:"PUT",body:JSON.stringify(e)})}async deleteCategory(t){return this.request(`/categories/${t}`,{method:"DELETE"})}async getTags(){return this.request("/tags")}async createTag(t){return this.request("/tags",{method:"POST",body:JSON.stringify(t)})}async deleteTag(t){return this.request(`/tags/${t}`,{method:"DELETE"})}async getComments(t){let e=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/comments${e}`)}async createComment(t){return this.request("/comments",{method:"POST",body:JSON.stringify(t)})}async updateCommentStatus(t,e){return this.request(`/comments/${t}/status`,{method:"PATCH",body:JSON.stringify({status:e})})}async deleteComment(t){return this.request(`/comments/${t}`,{method:"DELETE"})}async getContacts(t){let e=t?"?"+new URLSearchParams(t).toString():"";return this.request(`/contacts${e}`)}async createContact(t){return this.request("/contacts",{method:"POST",body:JSON.stringify(t)})}async updateContactStatus(t,e){return this.request(`/contacts/${t}/status`,{method:"PATCH",body:JSON.stringify({status:e})})}async deleteContact(t){return this.request(`/contacts/${t}`,{method:"DELETE"})}async getDashboardStats(){return this.request("/dashboard/stats")}}("http://localhost:5000/api");t.s(["apiClient",0,e])},23959,t=>{"use strict";var e=t.i(48277),r=t.i(30668),s=t.i(1831);let o=(0,r.createContext)(void 0);function a({children:t}){let[a,n]=(0,r.useState)(null),[i,u]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{if(s.apiClient.getToken()){let t=await s.apiClient.getMe();n(t.user)}}catch(t){console.error("Auth check failed:",t),s.apiClient.setToken(null)}finally{u(!1)}})()},[]);let c=async(t,e)=>{try{let r=await s.apiClient.login(t,e);n(r.user)}catch(t){throw t}},h=async()=>{try{await s.apiClient.logout()}catch(t){console.error("Logout error:",t)}finally{n(null)}};return(0,e.jsx)(o.Provider,{value:{user:a,loading:i,login:c,logout:h,isAuthenticated:!!a},children:t})}function n(){let t=(0,r.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>a,"useAuth",()=>n])}]);