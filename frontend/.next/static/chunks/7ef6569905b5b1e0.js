(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72015,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(41428);let r=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));r.displayName="Card";let l=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...a}));l.displayName="CardHeader";let i=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("h3",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));i.displayName="CardTitle";let d=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("p",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",e),...a}));d.displayName="CardDescription";let n=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",e),...a}));n.displayName="CardContent",a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},26550,98719,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(41428);let r=a.default.forwardRef(({className:e,type:a,...r},l)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...r}));r.displayName="Input",e.s(["Input",()=>r],26550);let l=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("label",{ref:r,className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...a}));l.displayName="Label",e.s(["Label",()=>l],98719)},61759,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(41428);let r=a.default.forwardRef(({className:e,...a},r)=>(0,t.jsx)("textarea",{className:(0,s.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...a}));r.displayName="Textarea",e.s(["Textarea",()=>r])},49449,e=>{"use strict";let t=(0,e.i(35884).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],49449)},3333,e=>{"use strict";let t=(0,e.i(35884).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],3333)},58904,e=>{"use strict";let t=(0,e.i(35884).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);e.s(["Edit",()=>t],58904)},51619,e=>{"use strict";var t=e.i(48277),a=e.i(30668),s=e.i(1831),r=e.i(9693),l=e.i(26550),i=e.i(61759),d=e.i(98719),n=e.i(72015),c=e.i(3333),o=e.i(58904),u=e.i(49449);function x(){let[e,x]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[g,m]=(0,a.useState)([]),[h,y]=(0,a.useState)(!1),[j,b]=(0,a.useState)(null),[v,C]=(0,a.useState)({title:"",content:"",excerpt:"",category_id:"",status:"draft",tags:[],featured_image:null});(0,a.useEffect)(()=>{N()},[]);let N=async()=>{try{let[e,t,a]=await Promise.all([s.apiClient.getBlogs({}),s.apiClient.getCategories(),s.apiClient.getTags()]);x(e.blogs),f(t),m(a)}catch(e){console.error("Failed to load data:",e)}},w=async e=>{e.preventDefault();try{let e=new FormData;e.append("title",v.title),e.append("content",v.content),e.append("excerpt",v.excerpt),e.append("category_id",v.category_id),e.append("status",v.status),e.append("tags",JSON.stringify(v.tags)),v.featured_image&&e.append("featured_image",v.featured_image),j?await s.apiClient.updateBlog(j.id,e):await s.apiClient.createBlog(e),y(!1),b(null),C({title:"",content:"",excerpt:"",category_id:"",status:"draft",tags:[],featured_image:null}),N()}catch(e){alert("Error: "+e.message)}},k=async e=>{if(confirm("Delete this blog?"))try{await s.apiClient.deleteBlog(e),N()}catch(e){alert("Error: "+e.message)}};return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Blogs"}),(0,t.jsxs)(r.Button,{onClick:()=>{y(!0),b(null),C({title:"",content:"",excerpt:"",category_id:"",status:"draft",tags:[],featured_image:null})},children:[(0,t.jsx)(c.Plus,{className:"h-4 w-4 mr-2"})," New Blog"]})]}),h&&(0,t.jsxs)(n.Card,{className:"mb-6",children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsx)(n.CardTitle,{children:j?"Edit Blog":"Create New Blog"})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Title"}),(0,t.jsx)(l.Input,{value:v.title,onChange:e=>C({...v,title:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Excerpt"}),(0,t.jsx)(i.Textarea,{value:v.excerpt,onChange:e=>C({...v,excerpt:e.target.value}),rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Content"}),(0,t.jsx)(i.Textarea,{value:v.content,onChange:e=>C({...v,content:e.target.value}),rows:10,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Category"}),(0,t.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",value:v.category_id,onChange:e=>C({...v,category_id:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Select Category"}),p.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Status"}),(0,t.jsxs)("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",value:v.status,onChange:e=>C({...v,status:e.target.value}),children:[(0,t.jsx)("option",{value:"draft",children:"Draft"}),(0,t.jsx)("option",{value:"published",children:"Published"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Featured Image"}),(0,t.jsx)(l.Input,{type:"file",accept:"image/*",onChange:e=>C({...v,featured_image:e.target.files?.[0]||null})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Button,{type:"submit",children:j?"Update":"Create"}),(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>{y(!1),b(null)},children:"Cancel"})]})]})})]}),(0,t.jsx)(n.Card,{children:(0,t.jsx)(n.CardContent,{className:"p-0",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Title"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Category"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.title}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.category_name||"-"}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs ${"published"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>{b(e),C({title:e.title,content:e.content,excerpt:e.excerpt||"",category_id:e.category_id||"",status:e.status,tags:e.tags?.map(e=>e.id)||[],featured_image:null}),y(!0)},children:(0,t.jsx)(o.Edit,{className:"h-4 w-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"ghost",onClick:()=>k(e.id),children:(0,t.jsx)(u.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]})}e.s(["default",()=>x])}]);